<div class="container">
    <div class="bg-light rounded p-5 m-3 position-relative">
        <% if (user._id.equals(request.user._id)) { %>
            <a class="btn btn-info position-absolute end-0 top-0 m-2" href="/me">Edit</a>
        <% } %>
        <div class="text-center">
            <% if (user.avatar) { %>
                <img class="rounded-circle bg-dark" src="<%= user.avatar %>" alt="<%= user.username %>'s avatar"
                     style="height: 100px; width: 100px;"/>
            <% } else { %>
                <div class="rounded-circle bg-dark container" style="height: 100px; width: 100px;"></div>
            <% } %>
            <h1 class="mt-3"><%= user.displayName %></h1>
        </div>
    </div>
    <div class="row">
        <div class="col-12 col-sm-4 col-md-3">
            <div class="p-3 m-3 bg-light">
                <h3>Info</h3>
                <h5>Phone number</h5>
                <h6><%= user.phoneNumber %></h6>
                <h5>Rating</h5>
                <h6><%= (await user.calculateScore()).toFixed(2) %></h6>
            </div>
        </div>
        <div class="col-12 col-sm-8 col-md-9">
            <div class="p-3 m-3">
                <h1 class="text-center">Comments</h1>
                <div class="bg-light p-3">
                    <h3>Add more comment</h3>
                    <%- await include("../partials/comment/input") %>
                </div>
                <% for(let i = 0; i < user.comments.length; i++ ) { %>
                    <% if (user.comments[i] !== null) { %>
                        <%- await include("../partials/comment/show", {comment: user.comments[i]}) %>
                    <% } %>
                <% } %>
            </div>
        </div>
    </div>
</div>
